FIND_PROGRAM(PYTHON_EXECUTABLE 
  NAMES python vtkpython
  PATHS ${VTK_LIBRARY_DIRS})

IF(PYTHON_EXECUTABLE)
  ADD_TEST(TestVTKPython ${PYTHON_EXECUTABLE} ${CMAKE_CURRENT_SOURCE_DIR}/TestVTKXdmf.py)
  ADD_TEST(VTKPythonMultiGrid ${PYTHON_EXECUTABLE} ${CMAKE_CURRENT_SOURCE_DIR}/Shapes.py ${Xdmf_SOURCE_DIR}/Data/Data/Shapes/Shapes.xmf)
  ADD_TEST(IronMagic ${PYTHON_EXECUTABLE} ${CMAKE_CURRENT_SOURCE_DIR}/IronMagic.py "${Xdmf_SOURCE_DIR}/Data/Data/Iron Protein.xmf" "${Xdmf_SOURCE_DIR}/Data/Baseline")
  ADD_TEST(IronStrideMagic ${PYTHON_EXECUTABLE} ${CMAKE_CURRENT_SOURCE_DIR}/IronMagic.py "${Xdmf_SOURCE_DIR}/Data/Data/Iron Protein.xmf" "${Xdmf_SOURCE_DIR}/Data/Baseline" "2 3 5")

ELSE(PYTHON_EXECUTABLE)
  MESSAGE(FATAL_ERROR "Python executable is not set")
ENDIF(PYTHON_EXECUTABLE)
