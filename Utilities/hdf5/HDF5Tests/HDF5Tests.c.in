#ifndef ${HDF5_TEST}
# define ${HDF5_TEST}
#endif

#define SIMPLE_TEST(x) int main(){ x; print_test(); return 0; }
void print_test();

#ifdef TEST_SEEK_64

#include <sys/types.h>
SIMPLE_TEST(off64_t n = 0);

#endif // TEST_SEEK_64

#ifdef HAVE_TM_GMTOFF

#include <sys/time.h>
#include <time.h>
SIMPLE_TEST(struct tm tm; tm.tm_gmtoff=0);

#endif // HAVE_TM_GMTOFF

#ifdef HAVE___TM_GMTOFF

#include <sys/time.h>
#include <time.h>
SIMPLE_TEST(struct tm tm; tm.__tm_gmtoff=0);

#endif // HAVE___TM_GMTOFF

#ifdef HAVE_STRUCT_TIMEZONE

#include <sys/types.h>
#include <sys/time.h>
#include <time.h>
SIMPLE_TEST(struct timezone tz; tz.tz_minuteswest=0);

#endif // HAVE_STRUCT_TIMEZONE

#ifdef HAVE_STAT_ST_BLOCKS

#include <sys/stat.h>
SIMPLE_TEST(struct stat sb; sb.st_blocks=0);

#endif // HAVE_STAT_ST_BLOCKS

#ifdef HAVE_STRUCT_VIDEOCONFIG

SIMPLE_TEST(struct videoconfig w; w.numtextcols=0);

#endif // HAVE_STRUCT_VIDEOCONFIG

#ifdef HAVE_STRUCT_TEXT_INFO

SIMPLE_TEST(struct text_info w; w.screenwidth=0);

#endif // HAVE_STRUCT_TEXT_INFO

#ifdef HAVE_TIOCGWINSZ

#include <sys/ioctl.h>
SIMPLE_TEST(int w=TIOCGWINSZ);

#endif // HAVE_TIOCGWINSZ

#ifdef HAVE_TIOCGETD

#include <sys/ioctl.h>
SIMPLE_TEST(int w=TIOCGGETD);

#endif // HAVE_TIOCGETD

#ifdef HAVE_ATTRIBUTE

SIMPLE_TEST(int __attribute__((unused)) x);

#endif // HAVE_ATTRIBUTE

#ifdef HAVE_FUNCTION

SIMPLE_TEST((void)__FUNCTION__);

#endif // HAVE_FUNCTION

// Just for debugging 

#include <stdio.h>
void print_test()
{
  printf("Test: ${HDF5_TEST}\n");
}
